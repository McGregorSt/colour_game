(this.webpackJsonpcolors=this.webpackJsonpcolors||[]).push([[0],{11:function(r,o,e){r.exports={PointsCounter:"PointsCounter__PointsCounter__1vy7E",EmptyDiv:"PointsCounter__EmptyDiv__23S47",Points:"PointsCounter__Points__2MjUN"}},19:function(r,o,e){r.exports={App:"App__App__1o-Fp"}},20:function(r,o,e){r.exports={ColorSq:"ColorSq__ColorSq__1ckq3"}},21:function(r,o,e){r.exports={GameBoard:"GameBoard__GameBoard__2n7Zv"}},22:function(r,o,e){r.exports={GameField:"GameField__GameField__34e9w"}},25:function(r,o,e){r.exports=e(35)},35:function(r,o,e){"use strict";e.r(o);var t=e(0),n=e.n(t),c=e(5),a=e.n(c),u=e(3),i=e(4),s=e(18);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=e(19),f=e.n(l),p=e(6),h=e(7),v=e(9),b=e(8),d=e(10),E=e(20),O=e.n(E),m=function(r){var o=r.x,e=r.y,t=r.color,c=r.value,a=r.clicked;return n.a.createElement("div",{className:O.a.ColorSq,x:o,y:e,style:{background:"".concat(t)},onClick:a,"data-value":c,"data-color":t})},_=e(21),Y=e.n(_),g=e(24),y=e(15),j=function(r){var o=Math.ceil(5*Math.random());return console.log(o),"#".concat(r[o-1])},X=function(r,o){return function(e,t){var n=t().colors,c=o[r.target.dataset.value],a=[],u=[],i=function(r){var e=o.filter((function(o){return o.corX===r.corX+1&&o.corY===r.corY})),t=o.filter((function(o){return o.corX===r.corX-1&&o.corY===r.corY})),n=o.filter((function(o){return o.corX===r.corX&&o.corY===r.corY-1})),c=o.filter((function(o){return o.corX===r.corX&&o.corY===r.corY+1}));return 0===r.corX&&0===r.corY?a.push(c,e):0===r.corX&&9===r.corY?a.push(n,e):4===r.corX&&0===r.corY?a.push(c,t):4===r.corX&&9===r.corY?a.push(n,t):0===r.corX?a.push(c,e,n):4===r.corX?a.push(c,t,n):0===r.corY?a.push(t,e,c):9===r.corY?a.push(n,e,t):a.push(t,c,e,n),u=a.filter((function(o){return o[0].color===r.color}))};i(c);for(var s=4;s>0;)u.forEach((function(r){i(r[0])})),s-=1;var l=Object(y.a)(u).map((function(r){return r[0]})).filter((function(r,o,e){return e.indexOf(r)===o})).sort((function(r,o){return r.corX-o.corX})).sort((function(r,o){return r.corY-o.corY}));e(function(r,o,e){return{type:"CHECK_NEIGHBOURS",neighbours:r,clicked:o,counter:e}}(l,c));var f=[];l.forEach((function(r){return f.push(r.corY)}));var p=f.reduce((function(r,o){return r[o]||(r[o]=0),r[o]++,r}),{}),h=[],v=-1;l.forEach((function(r){if(r.corY>v){for(var e=function(e){var t=o.filter((function(o){return o.corX===e&&o.corY===r.corY}));h.push.apply(h,Object(y.a)(t))},t=0;t<r.corX;t++)e(t);v=r.corY}})),e(function(r){return{type:"SQUARES_TO_MOVE",toMove:r}}(h));var b=[],d=[];h.forEach((function(r){var o=function(r){for(var o=0,e=Object.entries(p);o<e.length;o++){var t=e[o],n=Object(g.a)(t,2),c=n[0],a=n[1];if(parseInt(c)===r.corY)return a}}(r);b.push(o);var e=r.corX+o;d.push({corX:e,corY:r.corY,color:r.color})})),o.map((function(r){return d.forEach((function(o){r.corX===o.corX&&r.corY===o.corY&&(r.color=o.color)}))})),v=-1;var E=[];l.forEach((function(r){if(r.corY>v){for(var o=0;o<p[r.corY];o++)E.push({corX:o,corY:r.corY,color:""});v=r.corY}}));E.forEach((function(r){var o=j(n);r.color=o})),o.forEach((function(r){E.forEach((function(o){r.corX===o.corX&&r.corY===o.corY&&(r.color=o.color)}))})),o.sort((function(r,o){return r.corY-o.corY})).sort((function(r,o){return r.corX-o.corX})),e({type:"SQUARES_TO_REGENERATE",toRegenerate:E})}},k=function(r){function o(){return Object(p.a)(this,o),Object(v.a)(this,Object(b.a)(o).apply(this,arguments))}return Object(d.a)(o,r),Object(h.a)(o,[{key:"componentDidMount",value:function(){this.props.onGenerateBoard()}},{key:"render",value:function(){var r=this,o=this.props.board;console.log("board",o);var e=this.props.board.map((function(o,e){return n.a.createElement(m,{key:e,x:o.corX,y:o.corY,color:o.color,value:e,clicked:function(o){return r.props.onCheckNeighbours(o,r.props.board)}})}));return n.a.createElement("div",{className:Y.a.GameBoard},e)}}]),o}(t.Component),C=Object(u.b)((function(r){return{board:r.board,neighbours:r.neighbours}}),(function(r){return{onGenerateBoard:function(){return r((function(r,o){for(var e=o().colors,t=[],n=0;n<5;n++)for(var c=0;c<10;c++){var a=j(e),u={corX:n,corY:c,color:"".concat(a)};t.push(u)}return r({type:"GENERATE_BOARD",board:t})}))},onCheckNeighbours:function(o,e){return r(X(o,e))}}}))(k),S=e(22),R=e.n(S),w=e(11),N=e.n(w),P=function(r){var o=r.counter;return n.a.createElement("div",{className:N.a.PointsCounter,counter:o},n.a.createElement("div",{className:N.a.EmptyDiv}),n.a.createElement("div",{className:N.a.Points},"Your score: ",n.a.createElement("strong",null," ",o," ")))},G=function(r){function o(){return Object(p.a)(this,o),Object(v.a)(this,Object(b.a)(o).apply(this,arguments))}return Object(d.a)(o,r),Object(h.a)(o,[{key:"render",value:function(){return console.log(this.props.counter),n.a.createElement("div",{className:R.a.GameField},n.a.createElement(C,null),n.a.createElement(P,{counter:this.props.counter}))}}]),o}(t.Component),A=Object(u.b)((function(r){return{counter:r.counter}}))(G);var B=function(){return n.a.createElement("div",{className:f.a.App},n.a.createElement(A,null))},D=e(23);function M(r,o){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);o&&(t=t.filter((function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable}))),e.push.apply(e,t)}return e}var x=function(r,o){return function(r){for(var o=1;o<arguments.length;o++){var e=null!=arguments[o]?arguments[o]:{};o%2?M(Object(e),!0).forEach((function(o){Object(D.a)(r,o,e[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):M(Object(e)).forEach((function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(e,o))}))}return r}({},r,{},o)},T={colors:["8b1e3f","3c153b","89bd9e","f0c987","db4c40"],board:[],clicked:null,counter:0,neighbours:[],toMove:[],toRegenerate:[]},U=function(r,o){return x(r,{board:o.board})},q=function(r,o){var e=r.counter+o.neighbours.length;return x(r,{neighbours:o.neighbours,clicked:o.clicked,counter:e})},F=function(r,o){return x(r,{toMove:o.toMove})},I=function(r,o){return x(r,{toRegenerate:o.toRegenerate})},H=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,o=arguments.length>1?arguments[1]:void 0;switch(o.type){case"GENERATE_BOARD":return U(r,o);case"CHECK_NEIGHBOURS":return q(r,o);case"SQUARES_TO_MOVE":return F(r,o);case"SQUARES_TO_REGENERATE":return I(r,o);default:return r}},Q=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.c,V=Object(i.d)(H,Q(Object(i.a)(s.a))),J=n.a.createElement(u.a,{store:V},n.a.createElement(B,null));a.a.render(J,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(r){r.unregister()}))}},[[25,1,2]]]);
//# sourceMappingURL=main.b64956c6.chunk.js.map